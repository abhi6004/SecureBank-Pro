@model SecureBank_Pro.BankEntities.Users

@{
    ViewData["Title"] = "Edit User";
}

<div>
    @if (!string.IsNullOrEmpty(Model.role))
    {
        <h3>User Registration Form</h3>

        <form asp-action="EditUsers" method="post">

            <!-- Full Name -->
            <div>
                <label>Full Name</label>
                <input asp-for="full_name"
                       pattern="^[A-Za-z\s]+$"
                       title="Only alphabets are allowed" />
            </div>

            <!-- Phone -->
            <div>
                <label>Phone Number</label>
                <input asp-for="phone_number"
                       maxlength="10"
                       inputmode="numeric"
                       pattern="\d*" />
            </div>

            <!-- Hidden Role -->
            <input asp-for="role" type="hidden" value="@Model.role" />

            <!-- Email -->
            <div>
                <label>Email</label>
                <input asp-for="email" type="email" readonly />
            </div>

            <!-- PASSWORD toggle example -->
            <div>
                <label>Password</label>
                <input id="password" name="password" type="password" />
                <img id="toggleButton" src="/images/hide.png" style="width:22px;cursor:pointer;" />
            </div>

            <!-- Customer -->
            @if (Model.role == "Customer")
            {
                <div>
                    <label>Address</label>
                    <input asp-for="address" maxlength="80" />
                </div>

                <div>
                    <label>Date of Birth</label>
                    <input asp-for="date_of_birth" type="date" />
                </div>

                <div>
                    <label>KYC Status</label>
                    <select asp-for="kyc_status">
                        <option>Pending</option>
                        <option>Verified</option>
                        <option>Rejected</option>
                    </select>
                </div>
            }

            <!-- Manager + Employee -->
            @if (Model.role == "Manager" || Model.role == "Employee")
            {
                <div>
                    <label>Branch Assigned</label>
                    <input asp-for="branch_assigned" />
                </div>

                <div>
                    <label>Hire Date</label>
                    <input asp-for="hire_date" type="date" />
                </div>
            }

            <!-- Employee specific -->
            @if (Model.role == "Employee")
            {
                <div>
                    <label>Role Title</label>
                    <input asp-for="role_title" />
                </div>
            }

            <!-- Auditor -->
            @if (Model.role == "Auditor")
            {
                <div>
                    <label>Assigned Region</label>
                    <input asp-for="assigned_region" />
                </div>

                <div>
                    <label>Can Export Reports</label>
                    <select asp-for="can_export_reports">
                        <option>Yes</option>
                        <option>No</option>
                    </select>
                </div>

                <div>
                    <label>Last Login Time</label>
                    <input asp-for="last_login_time" type="datetime-local" readonly />
                </div>
            }

            <div>
                <label>Is Active</label>
                <input asp-for="is_active" type="checkbox" />
            </div>

            <div>
                <button type="submit">Submit</button>
            </div>

        </form>
    }
</div>

<script src="~/js/Dashboard/EditUsers.js"></script>
